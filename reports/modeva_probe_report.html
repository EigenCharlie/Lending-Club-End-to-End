
  <!DOCTYPE html>
  <html>
    <head>
      <meta charset="utf-8" />
      <title>MoDeVa Report</title>
      <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script>
    </head>
    
    <style>

      body {
        padding: 20px;
      }

      .container {
        display: flex;
      }

      .item-left {
        flex: 1 1 10%;
        font-size: 13px; 
        font-family: arial, sans-serif;
      }

      .item-right {
        flex: 1 1 90%;
        font-size: 13px; 
        font-family: arial, sans-serif;
      }

      .item-plot {
        flex: 1 1 50%;
        min-height: 400px;
      }

      table {
        font-size: 13px; 
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 20px;
      }

      td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }

      tr:hover {
        background-color: #dddddd;
      }

      .plot-section {
        display: flex;
        flex-wrap: wrap;
      }
      
    </style>
    
    <body>
      <!-- Prepare a DOM with a defined width and height for ECharts -->
      <h2>Report: ts</h2>
      <hr/>
      <section id="tests">

      <script type="text/javascript">

        function setup(idx, data) {
          var divContainer = document.getElementById('tests')
          const el = document.createElement("div")
          divContainer.appendChild(el)
          el.innerHTML = `
            <h3>${data['name']}</h3>
            <div class="container">
              <div class="item-left">Data:</div>
              <div class="item-right">${data['data']}</div>
            </div>
            <div class="container">
              <div class="item-left">Model:</div>
              <div class="item-right">${data['model']}</div>
            </div>
            <div class="container">
              <div class="item-left">Inputs:</div>
              <div class="item-right">${data['inputs']}</div>
            </div>
        
            <br/>
        
            <section id="tables-${idx}">
            </section>
            
            <br/>

            <section id="plots-${idx}" class="plot-section">
            </section>

          `
        }

        function createChart(id, option) {
          var chart = echarts.init(document.getElementById(id))
          chart.setOption(option)
        }

        function createTable(data, ele) {
          var table = document.createElement("table") // Create table header.

          var tr = table.insertRow(-1) // Table row. (last position)

          // Add index header
          var th = document.createElement("th") // Table header.
          th.innerHTML = ""
          tr.appendChild(th)

          for (var i = 0; i < data['columns'].length; i++) {
            var th = document.createElement("th") // Table header.
            th.innerHTML = data['columns'][i]
            tr.appendChild(th)
          }

          for (var i = 0; i < data['data'].length; i++) {
            var tr = table.insertRow(-1)
            
            for (var j = 0; j < data['data'][i].length; j++) {
              if(j === 0) {
                var idxCell = tr.insertCell(-1)
                idxCell.innerHTML = data['index'][i]
              }
              var tabCell = tr.insertCell(-1)
              tabCell.innerHTML = data['data'][i][j];
            }
          }

          var divContainer = document.getElementById(ele)
          divContainer.appendChild(table)
        }

        var results = []
        for (let i = 0; i < results.length; i++) {
          setup(i, results[i])
          var ps = JSON.parse(results[i]['plots'])
          if(ps.length > 0) {
              var plotsContainer = document.getElementById(`plots-${i}`)
              for (let j = 0; j < ps.length; j++) {
                  const el = document.createElement("div")
                  el.setAttribute("id", `plot-${i}-${j}`)
                  el.setAttribute("style", "width: 600px; height:500px;")
                  plotsContainer.appendChild(el)
                  createChart(`plot-${i}-${j}`, ps[j])
              }
          }
          var tables = JSON.parse(results[i]['tables'])
          for (let j = 0; j < tables.length; j++) {
            createTable(tables[j], `tables-${i}`)
          }
        }

      </script>
    </body>
  </html>

  