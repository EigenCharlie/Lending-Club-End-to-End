# PD Model Configuration
model:
  type: catboost
  params:
    iterations: 1000
    learning_rate: 0.05
    depth: 6
    l2_leaf_reg: 3
    auto_class_weights: Balanced
    eval_metric: AUC
    random_seed: 42
    early_stopping_rounds: 50

data:
  train_path: data/processed/train_fe.parquet
  test_path: data/processed/test_fe.parquet
  calibration_path: data/processed/calibration_fe.parquet
  cutoff_date: "2018-01-01"

features:
  numeric:
    - loan_amnt
    - annual_inc
    - loan_to_income
    - dti
    - rev_utilization
    - num_delinq_2yrs
    - days_since_last_delinq
    - int_rate
    - installment
  woe:
    - grade_woe
    - purpose_woe
    - home_ownership_woe
  categorical:
    - int_rate_bucket
    - term
  target: default_flag

conformal:
  confidence_level: 0.9
  prefit: true
  estimator: SplitConformalRegressor

calibration:
  method: platt  # isotonic | platt | venn_abers

mlflow:
  experiment_name: pd_model
  tracking_uri: null  # Set by DagsHub init

output:
  model_path: models/pd_catboost.cbm
  conformal_path: models/pd_calibrator.pkl
